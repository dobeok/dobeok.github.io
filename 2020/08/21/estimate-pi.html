<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Estimate pi using Monte Carlo simulation | My data science projects</title>
<meta name="generator" content="Jekyll v4.3.2">
<meta property="og:title" content="Estimate pi using Monte Carlo simulation">
<meta name="author" content="Vo Duy Do">
<meta property="og:locale" content="en_US">
<meta name="description" content="Estimating pi using Monte Carlo simulation and presenting the results in an animated chart">
<meta property="og:description" content="Estimating pi using Monte Carlo simulation and presenting the results in an animated chart">
<link rel="canonical" href="https://dobeok.github.io//jekyll-theme-yat/2020/08/21/estimate-pi.html">
<meta property="og:url" content="https://dobeok.github.io//jekyll-theme-yat/2020/08/21/estimate-pi.html">
<meta property="og:site_name" content="My data science projects">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-08-21T05:11:27+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Estimate pi using Monte Carlo simulation">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Vo Duy Do"},"dateModified":"2020-08-21T05:11:27+00:00","datePublished":"2020-08-21T05:11:27+00:00","description":"Estimating pi using Monte Carlo simulation and presenting the results in an animated chart","headline":"Estimate pi using Monte Carlo simulation","mainEntityOfPage":{"@type":"WebPage","@id":"https://dobeok.github.io//jekyll-theme-yat/2020/08/21/estimate-pi.html"},"url":"https://dobeok.github.io//jekyll-theme-yat/2020/08/21/estimate-pi.html"}</script>
<!-- End Jekyll SEO tag -->
<!-- <link rel="shortcut icon" href="https://dobeok.github.io//jekyll-theme-yat/favicon.ico" /> -->
  <link rel="icon" href="/assets/images/icon.svg">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  
  
  <link rel="stylesheet" href="/jekyll-theme-yat/assets/css/main.css">
  <script src="/jekyll-theme-yat/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="https://dobeok.github.io//jekyll-theme-yat/feed.xml" title="My data science projects">
<script>
  function initGoogleAnalytics() {
    var doNotTrack = (window.doNotTrack === "1" || navigator.doNotTrack === "1" ||
      navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1");
    var enableDNT = "true" == "true";

    if (!enableDNT || !doNotTrack) {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'G-13G9T0DNE2', 'auto');
      ga('send', 'pageview');
    }
  }
  window.addEventListener("load", initGoogleAnalytics);
</script>

<!-- <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script> -->

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/base16/material.min.css">

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>




<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    /* color: #f0f0f0; */
    color: #fff;
    /* background-color: #ff4e00; */
    background-color: #000000 ;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-13G9T0DNE2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-13G9T0DNE2');
</script>
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["$$","$$"],["\\[","\\]"]]},"svg":{"fontCache":"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>





































































































































<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/jekyll-theme-yat/">
  <img class="site-favicon" title="My data science projects" src="/assets/images/icon.svg" onerror="this.style.display='none'">
  My data science projects
  <!-- left hand side favicon and title - optional - I removed to clean up -->
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/jekyll-theme-yat/">Home</a><a class="page-link" href="/jekyll-theme-yat/about.html">About Me</a><!--









<span class="page-link">



<div id="google_translate_element" style="display: none;">
</div>

<span class="ct-language">
  <ul class="list-unstyled ct-language-dropdown">
    
      <li>
        <a href="#" class="lang-select" data-lang="en">
          
          <img src="https://cdn.countryflags.com/thumbs/united-states-of-america/flag-400.png" title="English">
          
        </a>
      </li>
    
      <li>
        <a href="#" class="lang-select" data-lang="vi">
          
          <img src="https://cdn.countryflags.com/thumbs/vietnam/flag-400.png" title="Vietnamese">
          
        </a>
      </li>
    
  </ul>
</span>

<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    autoDisplay: false,
    layout: google.translate.TranslateElement.InlineLayout.VERTICAL
  }, 'google_translate_element');

  // Links to cross-origin destinations are unsafe
  var gll = document.getElementsByClassName('goog-logo-link')[0];
  if (gll) {
    gll.setAttribute('rel', 'noopener');
  }

  function restoreLang() {
    var iframe = document.getElementsByClassName('goog-te-banner-frame')[0];
    if (!iframe) return;

    var innerDoc = iframe.contentDocument || iframe.contentWindow.document;
    var restore_el = innerDoc.getElementsByTagName("button");

    for (var i = 0; i < restore_el.length; i++) {
      if (restore_el[i].id.indexOf("restore") >= 0) {
        restore_el[i].click();
        var close_el = innerDoc.getElementsByClassName("goog-close-link");
        close_el[0].click();
        return;
      }
    }
  }

  function triggerHtmlEvent(element, eventName) {
    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent(eventName, true, true);
      element.dispatchEvent(event);
    } else {
      event = document.createEventObject();
      event.eventType = eventName;
      element.fireEvent('on' + event.eventType, event);
    }
  }

  var googleCombo = document.querySelector("select.goog-te-combo");
  var langSelect = document.querySelector('.ct-language');
  langSelect.addEventListener('click', function(event) {
    if (!event.target) {
      return;
    }

    var selected = document.querySelector('.ct-language .ct-language-selected');
    if (selected) {
      selected.classList.remove('ct-language-selected');
    }

    var target = event.target;
    while (target && target !== langSelect ) {
      if (target.matches('.lang-select')) {
        break;
      }
      target = target.parentElement;
    }

    if (target && target.matches('.lang-select')) {
      var lang = target.getAttribute('data-lang');
      if (googleCombo.value == lang) {
        restoreLang();
      } else {
        target.parentElement.classList.add('ct-language-selected');
        googleCombo.value = lang;
        triggerHtmlEvent(googleCombo, 'change');
      }
    }

    event.preventDefault();
  });
}
</script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</span> -->
</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;documentElement.setAttribute("data-header-transparent", "");var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>


























































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<!--<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('off' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
--><div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        clickToTop.classList.add('show')
      }else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="framework">
  <section class="main">

     <br>
<div class="post">
  <section>
    
    <!-- custom title in each post  -->
    <p style="color:black;font-weight:bold;font-size:180%;">Estimate pi using Monte Carlo simulation</p>
    <hr>









<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <p><img src="/assets/images/posts/estimate-pi/est-pi-animation.gif" alt=""></p>

<h3 id="original-post">Original post</h3>

<ul>
  <li>In the original post, I used numpy to estimate $\pi$. This is done by generating a random list of points having x and y coordinates in the range [-1, 1] and counting the numbers of points that fall inside circle with radius 1 centered at point (0, 0).</li>
  <li>The ratio of the number of points in the circle to the total number of points can be used to estimate the area of the circle, which is pi.</li>
  <li>Though using numpy was efficient, it feels.. boring.</li>
</ul>

<pre><code class="language-python3">import numpy as np
np.random.seed(99)

# Set the number of random points to generate
num_points = 1000000

# Generate random x and y coordinates in the range [-1, 1]
x = np.random.uniform(-1, 1, size=num_points)
y = np.random.uniform(-1, 1, size=num_points)

# Calculate the distance of each point from the origin
r = np.sqrt(x**2 + y**2)

# Count the number of points that fall within the unit circle
num_points_in_circle = np.sum(r &lt;= 1)

# Estimate the value of pi using the ratio of the areas of the circle and the square
pi_estimate = 4 * num_points_in_circle / num_points

print(pi_estimate)
# &gt;&gt;&gt; 3.141328
</code></pre>

<h3 id="adding-animation">Adding animation</h3>

<p>This code generates an animation that estimates the value of pi using a Monte Carlo method. The animation consists of two subplots, the left plot shows the random points generated, and the right plot shows the estimated value of pi as the number of generated points increases.</p>

<p><strong>Imports</strong></p>
<pre><code class="language-python3">import random
import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation
from itertools import count
import math
random.seed(42)
</code></pre>

<p>Use <strong>itertool.count</strong> iterators to keep track of whether points are inside or outside the unit circle</p>
<pre><code class="language-python3">num_point_inside = count()
num_point_outside = count()
current_estimate = []
</code></pre>

<p>Prepare the base plots for the animation. Most of the customizations are my own preferences.</p>
<pre><code class="language-python3"># prepare base plots
# most of the settings are aesthetics
fig, ax = plt.subplots(1, 2, figsize=(12, 4), width_ratios=[1,2])
ax[0].set_aspect('equal', 'box')
ax[0].set_ylim(-1, 1)
ax[0].set_xlim(-1, 1)
ax[0].hlines(y=0, xmin=-1, xmax=1, ls='-', lw=1, color='grey', alpha=.5)
ax[0].vlines(x=0, ymin=-1, ymax=1, ls='-', lw=1, color='grey', alpha=.5)
ax[0].axis('off')
ax[0].text(1, 0, ha='left', va='center', s=str(1))
ax[0].text(0, 1, ha='center', va='bottom', s=str(1))
ax[0].text(-1, 0, ha='right', va='center', s=f'-{1}')
ax[0].text(0, -1, ha='center', va='top', s=f'-{1}')
ax[0].set_facecolor('#f0f0f0')

circle = plt.Circle((0, 0), 1, alpha=.5, color='#f3f3f3')
ax[0].add_patch(circle)
ax[0].set_xlabel('Generate random points')
ax[1].set_xlabel('Number of points used to estimate')

for spine in ['top', 'left', 'right', 'bottom']:
    ax[0].spines[spine].set_visible(False)

ax[1].axhline(y=math.pi, ls='--', lw=1, color='grey', label='true $\pi$')
ax[1].set_ylim(0, 5)
line, = ax[1].plot([0], [0], label='estimated $\pi$')
ax[1].legend()

for spine in ['top', 'right']:
    ax[1].spines[spine].set_visible(False)
</code></pre>

<p>Define atomic functions. These are self-explanatory except for <code class="language-plaintext highlighter-rouge">animate()</code></p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">calc_distance_from_origin</code> to calculate distance of a point from origin (0, 0).</li>
  <li>
<code class="language-plaintext highlighter-rouge">is_point_inside_circle</code> compare distance with 1</li>
  <li>
<code class="language-plaintext highlighter-rouge">update_count</code> updates the corresponding iterator</li>
  <li>
<code class="language-plaintext highlighter-rouge">get_current_count</code> is a workaround to access the iterator’s current value</li>
  <li>
<code class="language-plaintext highlighter-rouge">animate</code> gets called by FuncAnimation repeatedly to update the plot. In this function, I generate random points. Based on that, update both count iterators and the plot figure.</li>
</ul>

<pre><code class="language-python3">def calc_distance_from_origin(x_coord, y_coord):
    return (x_coord**2 + y_coord**2) ** .5


def is_point_inside_circle(x_coord, y_coord):
    distance = calc_distance_from_origin(x_coord, y_coord)
    if distance &lt;= 1:
        return True
    return False


def update_count(x_coord, y_coord, num_point_inside, num_point_outside):
    if is_point_inside_circle(x_coord, y_coord):
        next(num_point_inside)
    else:
        next(num_point_outside)


def get_current_count(iter):
    """
    itertools.count() doesn't have method to access current value
    using repr()
    """
    return int(repr(iter)[6:-1])


def get_current_pi_estimate(count_in, count_out):
    """
    area of circle = pi * r^2  = pi * 1^2 = pi
    area of square = 2^2 = 4
    num point inside / total ~ pi / 4
    pi = num point inside * 4 / total
    """
    cnt_points_inside = get_current_count(count_in)
    cnt_points_outside = get_current_count(count_out)
    
    if cnt_points_inside + cnt_points_outside == 0:
        _estimate = 0

    else:
        _estimate = 4 * cnt_points_inside / (cnt_points_inside + cnt_points_outside)
    
    return _estimate


def animate(frame_num):
    # frame_num = current frame number
    # we don't need to use this variable, but it's needed for FuncAnimation
    
    # generate new points
    x_coords = random.uniform(-1, 1)
    y_coords = random.uniform(-1, 1)
    update_count(x_coords, y_coords, num_point_inside, num_point_outside)
    
    # update ax[0]
    ax[0].scatter(x_coords, y_coords, s=10, color='blue', alpha=.20)
    
    # updated ax[1]
    _current_estimate = get_current_pi_estimate(num_point_inside, num_point_outside)
    current_estimate.append(_current_estimate)
    line.set_data(list(range(len(current_estimate))), current_estimate)
    ax[1].set_xlim(0, frame_num)

    # update text
    fig.suptitle(f'# points inside:{get_current_count(num_point_inside)}; # points outside:{get_current_count(num_point_outside)}\n$\pi$ estimate={_current_estimate:.2f}')
</code></pre>
<p><strong>Run</strong> the animation and save to <code class="language-plaintext highlighter-rouge">.mp4</code></p>

<pre><code class="language-python3">ani = FuncAnimation(fig, animate, frames=200, interval=1, repeat=False)
ani.save('animation.mp4', fps=60)
</code></pre>

<h3 id="end">End</h3>


    </div>

</article>
<!--<div class="post-nav"><a class="previous" href="/jekyll-theme-yat/2020/08/20/web-scraping.html" title="Web scraping with requests and BeautifulSoup">Web scraping with requests and BeautifulSoup...</a><a class="next" href="/jekyll-theme-yat/2020/09/12/choropleth-map.html" title="Creating choropleth map with geopandas and matplotlib">Creating choropleth map with geopandas and...</a></div>-->
    
    <!-- back url at the bottom of the post-->
  
    <a href="https://dobeok.github.io/" title="" style="font-size:140%"><i class="fa fa-home"></i> Home</a>
    <!--<div class="post-related">
      <div>Related Articles</div>
      <ul>
        <li><a class="post-link" href="/jekyll-theme-yat/2023/02/15/guess-digits.html" title="Creating choropleth map with geopandas and matplotlib">Guessing user drawn digit</a></li><li><a class="post-link" href="/jekyll-theme-yat/2022/09/29/sim-queue.html" title="Creating choropleth map with geopandas and matplotlib">Simulating a queue system</a></li><li><a class="post-link" href="/jekyll-theme-yat/2020/09/12/choropleth-map.html" title="Creating choropleth map with geopandas and matplotlib">Creating choropleth map with geopandas and matplotlib</a></li><li><a class="post-link" href="/jekyll-theme-yat/2023/02/23/predict-loan.html" title="Creating choropleth map with geopandas and matplotlib">Predicting loan defaults</a></li></ul>
    </div>--><!--<div class="post-comments"></div>-->

  </section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">Contents</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>



      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/jekyll-theme-yat/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div>
<span class="copyleft">©</span> 2020-2023 Vo Duy Do</div>
      <div>
<a href="https://github.com/dobeok" target="_blank">My Github </a> | <a href="/about">About Me</a>
</div>
      <!-- <div>Powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="https://jekyllrb.com/">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat">Yat Theme</a>.</div>
      <div class="footer-col rss-subscribe">Subscribe <a href="/jekyll-theme-yat/feed.xml">via RSS</a></div> -->
    </div>
  </div>
</footer>
</body>
</html>
